<!doctype html>
<html lang="en">
<head>
    <title>Skin Studio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="skins">
<ul>
    <li><a href="#">Add skin</a></li>
</ul>
</div>
<div class="main">
    <canvas id="primaryCanvas" width="512" height="512"></canvas>
    <ul id="groupTree"></ul>
</div>
<script src="gl-matrix-min.js"></script>
<script src="obj_parser.js"></script>
<script src="renderer.js"></script>
<script src="ui.js"></script>
<script>
    fetch("test.obj", {method: "GET"}).then(function (response) {
        return response.text();
    }).then(function (resp) {
        let image = new Image();
        image.onload = function() {
            let p = ObjModel.parse(resp);
            console.log(p);

            let primaryCanvas = new PrimaryCanvas();
            primaryCanvas.setModel(p);
            primaryCanvas.setTexture(image);

            let groupList = new GroupList((g) => primaryCanvas.setSelectedGroup(g));
            groupList.setObjects(p.objects);
        };
        image.src = "steve.png";
    });
</script>
</body>
</html>