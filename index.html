<!doctype html>
<html lang="en">
<head>
    <title>Skin Studio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<ul id="skins">
    <li id="addSkin"><span>+</span></li>
</ul>
<div id="main">
    <canvas id="primaryCanvas"></canvas>
    <div id="panel">
        <h3 class="panelTitle">Inspector</h3>
        <ul id="inspector">
            <li>
                <span>Skin scale</span>
                <input type="text" id="skinScale" value="1.0">
            </li>
        </ul>
        <h3 class="panelTitle">Geometry Hierarchy</h3>
        <ul id="groupTree"></ul>
    </div>
</div>
<script src="gl-matrix-min.js"></script>
<script src="obj_parser.js"></script>
<script src="renderer.js"></script>
<script src="ui.js"></script>
<script>
    fetch("test.obj", {method: "GET"}).then(function (response) {
        return response.text();
    }).then(function (resp) {
        let image = new Image();
        image.onload = function() {
            let p = ObjModel.parse(resp);
            console.log(p);

            let primaryCanvas = new PrimaryCanvas();
            primaryCanvas.setModel(p);
            primaryCanvas.setTexture(image);

            let groupList = new GroupList((g) => primaryCanvas.setSelectedGroup(g));
            groupList.setObjects(p.objects);
        };
        image.src = "steve.png";
    });
</script>
</body>
</html>